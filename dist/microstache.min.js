window.Microstache=function(e){function n(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function r(e,n){var i,r=n.split("."),t=e;for(i=0;i<r.length;++i){if(void 0===t[r[i]])return void 0;t=t[r[i]]}return t}return e.template=function(e,t){function a(e,r){for(u in e)"object"==typeof e[u]&&a(e[u],r+u+"."),f.push("{{\\s*"+n((r+u).toString())+"\\s*}}")}var i,o,u,f=[];return a(t,""),f=f.join("|"),f?(i=new RegExp(f,"gi"),o=e.replace(i,function(e){var n=/{{\s*([^\s]*)\s*}}/g;return r(t,n.exec(e.toString())[1])})):o=e,o.replace(/{{[^}}]*}}/gi,"")},e}({});