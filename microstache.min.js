Microstache=function(e){function n(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function r(e,n){var i,r=n.split("."),t=e;for(i=0;i<r.length;++i){if(void 0==t[r[i]])return void 0;t=t[r[i]]}return t}return e.template=function(e,t){function c(e,r){for(f in e)"object"==typeof e[f]&&c(e[f],r+f+"."),o.push("{{\\s*"+n((r+f).toString())+"\\s*}}")}var i,u,f,o=[];return c(t,""),o=o.join("|"),o?(i=new RegExp(o,"gi"),u=e.replace(i,function(e){var n=/{{\s*([^\s]*)\s*}}/g;return r(t,n.exec(e.toString())[1])})):u=e,u.replace(/{{[^}}]*}}/gi,"")},e}({});